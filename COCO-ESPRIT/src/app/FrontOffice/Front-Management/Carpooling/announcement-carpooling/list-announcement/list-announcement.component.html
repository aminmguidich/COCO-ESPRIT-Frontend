<div
  class="hero-wrap ftco-degree-bg"
  style="background-image: url('/assets/FrontOffice/images/carpooling.jpg')"
  data-stellar-background-ratio="0.5"
>
  <div class="overlay"></div>
  <div class="container">
    <div
      class="row no-gutters slider-text justify-content-start align-items-center justify-content-center"
    >
      <div class="col-lg-8 ftco-animate">
        <div class="text w-100 text-center mb-md-5 pb-md-5">
          <h1 class="mb-4">Fast &amp; Easy Way To Rent A Car</h1>
          <p style="font-size: 18px">
            A small river named Duden flows by their place and supplies it with
            the necessary regelialia. It is a paradisematic country, in which
            roasted parts
          </p>
          <a
            href="https://vimeo.com/45830194"
            class="icon-wrap popup-vimeo d-flex align-items-center mt-4 justify-content-center"
          >
            <div class="icon d-flex align-items-center justify-content-center">
              <span class="ion-ios-play"></span>
            </div>
            <div class="heading-title ml-5">
              <span>Easy steps for renting a car</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<section class="ftco-section ftco-no-pt bg-light">
  <div class="container">
    <!-- Button trigger modal -->
    <div
      d-flex
      justify-content-between
      align-items-center
      mb-1
      style="width: 100%"
    >
      <div class="row" #s>
        <div class="col-md-auto">
          <button
            type="button"
            style="width: fit-content"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
            [disabled]="!canAddAnnouncement"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-plus-square"
              viewBox="0 0 16 16"
            >
              <path
                d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"
              />
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"
              />
            </svg>
            &nbsp; Add Announcement
          </button>
        </div>
        <div class="col-sm text-right">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#setLocation"
          >
            set location
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-geo-alt-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"
              />
            </svg>
          </button>
        </div>
      </div>

      <!-- Modal -->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <app-add-announcement></app-add-announcement>
      </div>

      <!-- Modal -->
      <div
        class="modal fade"
        id="setLocation"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <app-set-location (OnLocationChange)="OnLocationChange($event)" />
      </div>
      <br />
      <div class="row" #s>
        <div></div>
        <div class="col mb-5" *ngFor="let item of availableData; let i = index">
          <div *ngIf="item != null" class="card h-100 border-0">
            <!-- Product image -->
            <img
              class="card-img-top"
              [src]="
                item.userAnnCarpooling.carUser &&
                item.userAnnCarpooling.carUser.image
                  ? item.userAnnCarpooling.carUser.image
                  : '/assets/FrontOffice/images/car-4.jpg'
              "
              alt="Card image cap"
            />

            <!-- Product details -->
            <div class="card-body p-4">
              <div class="d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                  {{ item.userAnnCarpooling.fullname }}
                </h5>
                <button
                  *ngIf="
                    this.storageService.getUser()['id'] ==
                    item.userAnnCarpooling.id
                  "
                  type="button"
                  data-bs-toggle="modal"
                  [attr.data-bs-target]="'#exampleModalupdate' + i"
                  class="btn btn-sm rounded-0 transparent-button1"
                  data-toggle="tooltip"
                  data-placement="top"
                  title="Edit"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-pen"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"
                    />
                  </svg>
                </button>

                <!-- Modal -->
                <div
                  class="modal fade"
                  [id]="'exampleModalupdate' + i"
                  role="dialog"
                  tabindex="-1"
                  aria-labelledby="exampleModalLabel"
                  aria-hidden="true"
                >
                  <app-update-announcement
                    [adresses]="
                      this.availableData[i]?.routeAnnCarpooling?.adressesRoute
                    "
                    [announcement]="item"
                  ></app-update-announcement>
                </div>
                <button
                  *ngIf="
                    this.storageService.getUser()['id'] ==
                    item.userAnnCarpooling.id
                  "
                  type="button"
                  class="btn btn-sm rounded-0 transparent-button1"
                  data-toggle="tooltip"
                  data-placement="top"
                  title="Delete"
                  data-bs-toggle="modal"
                  [attr.data-bs-target]="'#exampleModalConfirm' + i"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="black"
                    class="bi bi-trash3"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"
                    />
                  </svg>
                </button>

                <!-- Modal -->
                <div
                  class="modal fade"
                  [id]="'exampleModalConfirm' + i"
                  tabindex="-1"
                  role="dialog"
                  aria-labelledby="exampleModalLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                          Delete Item
                        </h5>
                        <button
                          type="button"
                          class="close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        >
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Are you sure you want to delete this item? This action
                        cannot be undone.
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <button
                          type="button"
                          class="btn btn-primary"
                          (click)="
                            deleteAnnCarpooling(item.idCarpoolingAnnouncement)
                          "
                          data-bs-dismiss="modal"
                        >
                          Confirm
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <!--------------------------->

                <button
                  type="button"
                  class="btn btn-success bg-transparent border-0 p-0"
                  data-bs-toggle="modal"
                  [attr.data-bs-target]="'#detailModal' + i"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    class="bi bi-three-dots-vertical text-success"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"
                    />
                  </svg>
                </button>
              </div>
              <!-- Modal -->
              <div
                class="modal fade"
                [id]="'detailModal' + i"
                tabindex="-1"
                aria-labelledby="detailmodalLabel"
                aria-hidden="true"
              >
                <app-deteails-announcement
                  [adresses]="
                    availableData[i]?.routeAnnCarpooling?.adressesRoute
                  "
                ></app-deteails-announcement>
              </div>
              <hr />
              <p>
                {{
                  item.dateCarpoolingAnnouncement
                    .toString()
                    .replaceAll(",", "/")
                }}
              </p>
              <hr />
              <p class="card-text">{{ item.description }}</p>
              <hr />
              <p>
                Starting at:
                {{ item.routeAnnCarpooling.adressesRoute[0].streetName }}
              </p>
              <p>Price: {{ item.ridePrice }} Dt</p>
              <p>Walking distance: {{ item.distance?item.distance:0 }} meter</p>
              <hr/>
              <p>
                Places: {{ item.places
                }}<svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-person"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"
                  />
                </svg>
              </p>
            </div>

            <!-- Product actions -->
            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
              <div class="text-center">
                <!-- Learn More Button -->
                <div class="button-container d-flex align-items-center">
                  <!------------------------------>


                  <div
                  style="width: fit-content"
                  class="demo-section"
                  (click)="
                    onLike(
                      item.reactCarpoolingsAnnCarpooling,
                      item.idCarpoolingAnnouncement
                    )
                  "
                  onclick="this.classList.add('clicked');"
                >
                  <div
                    [matBadge]="item.reactCarpoolingsAnnCarpooling.length"
                    matBadgeOverlap="true"
                    class="demo-section"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="32"
                      fill="currentColor"
                      class="bi bi-hand-thumbs-up-fill"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a10 10 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733q.086.18.138.363c.077.27.113.567.113.856s-.036.586-.113.856c-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.2 3.2 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.8 4.8 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z"
                      />
                    </svg>
                  </div>
                </div>
                <div
                *ngIf="
                  this.storageService.getUser()['id'] !=
                  item.userAnnCarpooling.id
                "style="margin-left: auto;"
              >
                <button
                  (click)="Require(item.idCarpoolingAnnouncement)"
                  type="button"
                  class="btn btn-primary btn-sm rounded-0 "
                  class="black-icon transparent-button"
                  
                >
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-taxi-front-fill" viewBox="0 0 16 16">
                  <path d="M6 1a1 1 0 0 0-1 1v1h-.181A2.5 2.5 0 0 0 2.52 4.515l-.792 1.848a.8.8 0 0 1-.38.404c-.5.25-.855.715-.965 1.262L.05 9.708a2.5 2.5 0 0 0-.049.49v.413c0 .814.39 1.543 1 1.997V14.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1.338c1.292.048 2.745.088 4 .088s2.708-.04 4-.088V14.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1.892c.61-.454 1-1.183 1-1.997v-.413q0-.248-.049-.49l-.335-1.68a1.8 1.8 0 0 0-.964-1.261.8.8 0 0 1-.381-.404l-.792-1.848A2.5 2.5 0 0 0 11.181 3H11V2a1 1 0 0 0-1-1zM4.309 4h7.382a.5.5 0 0 1 .447.276l.956 1.913a.51.51 0 0 1-.497.731c-.91-.073-3.35-.17-4.597-.17s-3.688.097-4.597.17a.51.51 0 0 1-.497-.731l.956-1.913A.5.5 0 0 1 4.309 4M4 10a1 1 0 1 1-2 0 1 1 0 0 1 2 0m10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-9 0a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1"/>
                </svg>
                </button>
              </div>
                </div>

                <!-- Button trigger modal -->
              </div>


<!--hLike button was here -->

            </div>
          </div>
        </div>
        <app-paginator
          [length]="data.length"
          (paginatorOutput)="onPageChange($event)"
        ></app-paginator>
      </div>
    </div>
  </div>
</section>
